import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';
import { CommonModule } from '@angular/common';
import {
  ActivatedRoute,
  NavigationEnd,
  Router,
  RouterModule,
} from '@angular/router';
import { MatIconModule } from '@angular/material/icon';
import { NavItem } from '../navItems.interface';
import { AuthService, UtilityService } from '@regio-ki/regioki-core';
import { environment } from '@env/environment';
import { filter } from 'rxjs';
@Component({
  selector: 'uc-sidebar',
  standalone: true,
  imports: [CommonModule, MatIconModule, RouterModule],
  template: `
    <div class="sidebar-mobile">
      <button class="close-btn" (click)="toggleSidebar.emit()">
        <span
          ><svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M5.10156 18.8984L18.9006 5.09945"
              stroke="#737791"
              stroke-width="2.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M5.10156 5.10156L18.9006 18.9006"
              stroke="#737791"
              stroke-width="2.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </span>
      </button>
      <div>
        <ul
          [ngClass]="{
            'company-user': loggedInUser.company_user,
            'admin-user': !loggedInUser.company_user
          }"
          (click)="toggleSidebar.emit()"
          *ngFor="let item of navItems"
        >
          <li
            (click)="selectItem(item.title, item.routeURL)"
            [class.active]="isActive(item.title)"
            [class.disabled]="item.title === 'Settings'"
          >
            <a class="anchor">
              {{ item.title }}
            </a>
          </li>
        </ul>
      </div>
      <div
        [ngClass]="{
          'company-user': loggedInUser.company_user,
          'admin-user': !loggedInUser.company_user
        }"
        class="sign-out"
      >
        <a (click)="signOut()" (click)="toggleSidebar.emit()"> Sign Out</a>
      </div>
    </div>
    <div class="sidebar">
      <div class="container">
        <div class="logo">
          <div class="svg-container">
            <ng-container *ngIf="!loggedInUser.company_user">
              <span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="207"
                  height="48"
                  viewBox="0 0 207 48"
                  fill="none"
                >
                  <path
                    d="M10.8438 11.2433C10.8438 11.2433 10.8678 11.2097 10.887 11.1953H10.8438V11.2433Z"
                    fill="#008080"
                  />
                  <path
                    d="M37.6879 28.3352C39.3727 25.9544 40.4479 23.3384 40.9327 20.6888C42.1279 14.204 39.8239 7.48883 34.3999 3.37523C31.3183 1.04243 27.7327 -0.123967 24.0415 0.0104334C20.8495 0.120833 17.7247 1.19123 14.9983 3.09683C10.2895 6.39443 7.45272 11.9048 7.40952 17.8472L7.20312 47.8472L15.3631 47.9048L15.4591 34.0136L28.0111 47.9144L39.5647 47.9384L37.5055 45.7256L29.6575 37.2776C32.7007 34.3544 35.4847 31.4504 37.6879 28.3352ZM25.1839 31.0904C25.1167 31.1528 25.0495 31.2104 24.9775 31.268C24.7519 31.436 24.4735 31.484 24.2143 31.4168L24.0415 31.3592C23.9647 31.3304 23.8927 31.2872 23.8255 31.2344C23.7919 31.2056 23.7583 31.1816 23.7295 31.1528C23.3743 30.8168 23.0239 30.476 22.6831 30.1304L22.6111 30.0536C22.0015 29.4344 21.4159 28.796 20.8543 28.1288C20.2975 27.4712 19.7647 26.7896 19.2607 26.084C19.1791 25.9736 19.0975 25.8632 19.0207 25.7528C17.7679 23.9624 16.7071 22.0712 16.0783 19.9592C15.8047 19.0376 15.6319 18.1112 15.5983 17.1944C15.6116 16.9888 15.6079 16.2824 15.6079 16.2824C15.6079 16.2824 15.8719 14.4248 16.2511 13.5128C17.4031 10.7624 19.4287 8.98163 22.3183 8.21843C22.8079 8.08883 23.3215 8.04083 23.8255 7.94963C24.2047 7.88723 24.5839 7.88243 24.9631 7.94483C25.4047 8.01203 25.8511 8.05523 26.2879 8.15123C27.9055 8.51603 29.3263 9.29843 30.4495 10.3592C32.6095 12.3992 33.6991 15.4808 33.0895 18.62C32.9983 19.0856 32.8879 19.5416 32.7487 19.988C32.7103 20.1464 32.6623 20.3 32.6095 20.4584C32.4895 20.852 32.3407 21.2408 32.1631 21.6296C32.1439 21.6728 32.1295 21.716 32.1055 21.7592C31.8751 22.2968 31.6159 22.82 31.3327 23.3384C29.7151 26.2664 27.5935 28.7912 25.1839 31.0904Z"
                    fill="#008080"
                  />
                  <path
                    d="M29.3258 16.6453C29.441 19.3141 27.3002 21.5893 24.5546 21.7045C23.0618 21.7669 21.689 21.1141 20.7626 20.0437C20.0282 19.2133 19.5674 18.1285 19.5194 16.9381C19.4138 14.2597 21.5546 11.9893 24.2906 11.8789C25.5818 11.8261 26.777 12.3061 27.6794 13.1269C28.6394 13.9909 29.2634 15.2389 29.3258 16.6453Z"
                    fill="#005B5B"
                  />
                  <path
                    d="M30.5221 10.2812L30.4453 10.358C32.6053 12.3981 33.6949 15.4797 33.0853 18.6189C32.9941 19.0845 32.8837 19.5405 32.7445 19.9869C32.7061 20.1453 32.6581 20.2989 32.6053 20.4573C32.4853 20.8509 32.3365 21.2397 32.1589 21.6285C32.1397 21.6717 32.1253 21.7149 32.1013 21.7581C31.8709 22.2957 31.6117 22.8189 31.3285 23.3373C29.7109 26.2653 27.5893 28.7901 25.1797 31.0893C25.1125 31.1517 25.0453 31.2093 24.9733 31.2669C24.7477 31.4349 24.4693 31.4829 24.2101 31.4157L24.0373 31.3581C23.9605 31.3293 23.8885 31.2861 23.8213 31.2333C23.7877 31.2045 23.7541 31.1805 23.7253 31.1517C23.7349 31.1613 23.7109 31.1613 23.7109 31.1613L29.6533 37.2765C32.6965 34.3533 35.4805 31.4493 37.6837 28.3341C39.3685 25.9533 40.4437 23.3373 40.9285 20.6877L30.5221 10.2812Z"
                    fill="#005B5B"
                  />
                  <path
                    d="M74.922 30.042H67.694L66.498 33.5H62.676L69.202 15.326H73.44L79.966 33.5H76.118L74.922 30.042ZM73.934 27.13L71.308 19.538L68.682 27.13H73.934ZM81.4693 26.246C81.4693 24.79 81.7553 23.4987 82.3273 22.372C82.9167 21.2453 83.714 20.3787 84.7193 19.772C85.7247 19.1653 86.8427 18.862 88.0733 18.862C89.0093 18.862 89.902 19.07 90.7513 19.486C91.6007 19.8847 92.2767 20.422 92.7793 21.098V14.26H96.4713V33.5H92.7793V31.368C92.3287 32.0787 91.696 32.6507 90.8813 33.084C90.0667 33.5173 89.122 33.734 88.0473 33.734C86.834 33.734 85.7247 33.422 84.7193 32.798C83.714 32.174 82.9167 31.2987 82.3273 30.172C81.7553 29.028 81.4693 27.7193 81.4693 26.246ZM92.8053 26.298C92.8053 25.414 92.632 24.66 92.2853 24.036C91.9387 23.3947 91.4707 22.9093 90.8813 22.58C90.292 22.2333 89.6593 22.06 88.9833 22.06C88.3073 22.06 87.6833 22.2247 87.1113 22.554C86.5393 22.8833 86.0713 23.3687 85.7073 24.01C85.3607 24.634 85.1873 25.3793 85.1873 26.246C85.1873 27.1127 85.3607 27.8753 85.7073 28.534C86.0713 29.1753 86.5393 29.6693 87.1113 30.016C87.7007 30.3627 88.3247 30.536 88.9833 30.536C89.6593 30.536 90.292 30.3713 90.8813 30.042C91.4707 29.6953 91.9387 29.21 92.2853 28.586C92.632 27.9447 92.8053 27.182 92.8053 26.298ZM117.914 18.888C119.682 18.888 121.104 19.434 122.178 20.526C123.27 21.6007 123.816 23.1087 123.816 25.05V33.5H120.176V25.544C120.176 24.4173 119.89 23.5593 119.318 22.97C118.746 22.3633 117.966 22.06 116.978 22.06C115.99 22.06 115.202 22.3633 114.612 22.97C114.04 23.5593 113.754 24.4173 113.754 25.544V33.5H110.114V25.544C110.114 24.4173 109.828 23.5593 109.256 22.97C108.684 22.3633 107.904 22.06 106.916 22.06C105.911 22.06 105.114 22.3633 104.524 22.97C103.952 23.5593 103.666 24.4173 103.666 25.544V33.5H100.026V19.096H103.666V20.838C104.134 20.2313 104.732 19.7547 105.46 19.408C106.206 19.0613 107.02 18.888 107.904 18.888C109.031 18.888 110.036 19.1307 110.92 19.616C111.804 20.084 112.489 20.76 112.974 21.644C113.442 20.812 114.118 20.1447 115.002 19.642C115.904 19.1393 116.874 18.888 117.914 18.888ZM129.117 17.38C128.475 17.38 127.938 17.1807 127.505 16.782C127.089 16.366 126.881 15.8547 126.881 15.248C126.881 14.6413 127.089 14.1387 127.505 13.74C127.938 13.324 128.475 13.116 129.117 13.116C129.758 13.116 130.287 13.324 130.703 13.74C131.136 14.1387 131.353 14.6413 131.353 15.248C131.353 15.8547 131.136 16.366 130.703 16.782C130.287 17.1807 129.758 17.38 129.117 17.38ZM130.911 19.096V33.5H127.271V19.096H130.911ZM142.489 18.888C144.205 18.888 145.592 19.434 146.649 20.526C147.706 21.6007 148.235 23.1087 148.235 25.05V33.5H144.595V25.544C144.595 24.4 144.309 23.5247 143.737 22.918C143.165 22.294 142.385 21.982 141.397 21.982C140.392 21.982 139.594 22.294 139.005 22.918C138.433 23.5247 138.147 24.4 138.147 25.544V33.5H134.507V19.096H138.147V20.89C138.632 20.266 139.248 19.7807 139.993 19.434C140.756 19.07 141.588 18.888 142.489 18.888ZM169.02 30.042H161.792L160.596 33.5H156.774L163.3 15.326H167.538L174.064 33.5H170.216L169.02 30.042ZM168.032 27.13L165.406 19.538L162.78 27.13H168.032ZM189.737 20.968C189.737 21.9387 189.503 22.8487 189.035 23.698C188.584 24.5473 187.865 25.232 186.877 25.752C185.906 26.272 184.676 26.532 183.185 26.532H180.143V33.5H176.503V15.352H183.185C184.589 15.352 185.785 15.5947 186.773 16.08C187.761 16.5653 188.498 17.2327 188.983 18.082C189.486 18.9313 189.737 19.8933 189.737 20.968ZM183.029 23.594C184.034 23.594 184.78 23.3687 185.265 22.918C185.75 22.45 185.993 21.8 185.993 20.968C185.993 19.2 185.005 18.316 183.029 18.316H180.143V23.594H183.029ZM205.555 20.968C205.555 21.9387 205.321 22.8487 204.853 23.698C204.403 24.5473 203.683 25.232 202.695 25.752C201.725 26.272 200.494 26.532 199.003 26.532H195.961V33.5H192.321V15.352H199.003C200.407 15.352 201.603 15.5947 202.591 16.08C203.579 16.5653 204.316 17.2327 204.801 18.082C205.304 18.9313 205.555 19.8933 205.555 20.968ZM198.847 23.594C199.853 23.594 200.598 23.3687 201.083 22.918C201.569 22.45 201.811 21.8 201.811 20.968C201.811 19.2 200.823 18.316 198.847 18.316H195.961V23.594H198.847Z"
                    fill="#008080"
                  />
                </svg>
              </span>
            </ng-container>

            <div class="companyName" *ngIf="loggedInUser?.company_user">
              <img
                *ngIf="logoUrl"
                [src]="logoUrl"
                alt="Customer Logo"
                class="customer-logo"
              />
              <div *ngIf="!logoUrl" class="customer-logo icon-placeholder">
                <mat-icon>account_circle</mat-icon>
              </div>

              <p class="company-title">{{ companyName }}</p>
              <!-- Display the companyName here for customers only -->
            </div>
          </div>
        </div>
        <ul
          [ngClass]="{
            'company-user': loggedInUser.company_user,
            'admin-user': !loggedInUser.company_user
          }"
          style="cursor: pointer;"
          *ngFor="let item of navItems"
        >
          <li
            (click)="selectItem(item.title, item.routeURL)"
            [class.active]="isActive(item.title)"
            [class.disabled]="item.title === 'Settings'"
          >
            <a class="anchor">
              <span class="li-icon">
                <ng-container *ngIf="item.title === 'Dashboard'">
                  <svg
                    class="svg-links"
                    width="26"
                    height="26"
                    viewBox="0 0 26 26"
                    fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g clip-path="url(#clip0_205_1981)">
                      <path
                        d="M25.8981 1.43C25.8281 1.26 25.7581 1.08 25.6681 0.92C25.3281 0.37 24.7081 0 24.0081 0H16.0381C15.8081 0 15.5781 0.04 15.3681 0.12H15.3581C15.2581 0.16 15.1581 0.21 15.0681 0.26H15.0581C14.5581 0.55 14.1981 1.05 14.0981 1.64C14.0881 1.72 14.0781 1.8 14.0781 1.88V13.2C14.0781 14.18 14.7881 14.99 15.7181 15.14H15.7281C15.8281 15.16 15.9381 15.17 16.0481 15.17H23.9381C24.0781 15.17 24.1981 15.16 24.3181 15.14C25.2581 14.99 25.9681 14.18 25.9681 13.2V1.97C25.9681 1.78 25.9481 1.6 25.8981 1.43ZM24.0981 12.78C24.0981 13.11 24.0281 13.18 23.6881 13.18H16.3681C16.0181 13.18 15.9481 13.11 15.9481 12.76V2.4C15.9481 2.06 16.0181 1.99 16.3481 1.99H23.6881C24.0281 1.99 24.0981 2.05 24.0981 2.39V12.78Z"
                        fill="currentColor"
                      />
                      <path
                        d="M11.8234 12.2638C11.7734 12.0838 11.6934 11.9137 11.5934 11.7537C11.2934 11.2737 10.7834 10.9338 10.2034 10.8538C10.1334 10.8538 10.0734 10.8438 10.0034 10.8438C9.30344 10.8438 8.60344 10.8438 7.90344 10.8438C6.77344 10.8438 5.64344 10.8438 4.51344 10.8438C3.63344 10.8438 2.76344 10.8438 1.88344 10.8438C1.83344 10.8438 1.78344 10.8438 1.73344 10.8438H1.71344C1.57344 10.8637 1.43344 10.9037 1.30344 10.9437C1.20344 10.9837 1.10344 11.0337 1.00344 11.0837C0.503438 11.3737 0.143438 11.8738 0.0434375 12.4738C0.0334375 12.5538 0.0234375 12.6337 0.0234375 12.7137C0.0234375 12.7137 0.0234375 12.7737 0.0234375 12.7937V24.0338C0.0234375 25.0138 0.733437 25.8137 1.66344 25.9737H1.67344C1.77344 25.9937 1.88344 26.0037 1.98344 26.0037H9.94344C10.0534 26.0037 10.1534 26.0037 10.2534 25.9837C10.3934 25.9637 10.5334 25.9238 10.6634 25.8738C10.7334 25.8438 10.8034 25.8138 10.8634 25.7838C11.3834 25.5038 11.7634 25.0037 11.8734 24.4037C11.8834 24.3037 11.8934 24.2037 11.9034 24.0938V12.8038C11.9034 12.6137 11.8734 12.4338 11.8334 12.2638H11.8234ZM9.71344 23.1938C9.71344 23.5338 9.65344 23.5938 9.32344 23.5938H2.58344C2.24344 23.5938 2.19344 23.5438 2.19344 23.1938V13.6637C2.19344 13.3037 2.24344 13.2537 2.59344 13.2537H9.31344C9.66344 13.2537 9.72344 13.3137 9.72344 13.6637V23.2038L9.71344 23.1938Z"
                        fill="currentColor"
                      />
                      <path
                        d="M11.05 0.352187C10.86 0.242187 10.64 0.162188 10.43 0.0621875C10.41 0.0621875 10.39 0.0521875 10.37 0.0421875C10.23 0.0121875 10.08 -0.0078125 9.93 -0.0078125H1.97C1.86 -0.0078125 1.75 -0.0078125 1.65 0.0221875H1.63C0.7 0.192188 0 1.00219 0 1.97219V6.71219C0 7.69219 0.72 8.51219 1.66 8.65219C1.74 8.66219 1.83 8.67219 1.92 8.67219C3.31 8.67219 4.7 8.67219 6.09 8.67219C7.38 8.67219 8.67 8.67219 9.97 8.67219C10.07 8.67219 10.18 8.67219 10.28 8.65219C10.86 8.54219 11.35 8.18219 11.64 7.68219C11.71 7.55219 11.77 7.42219 11.81 7.27219C11.86 7.09219 11.89 6.90219 11.89 6.71219V1.97219C11.89 1.30219 11.56 0.712188 11.05 0.352187ZM9.7 6.31219C9.7 6.62219 9.63 6.69219 9.33 6.69219C8.2 6.69219 7.07 6.69219 5.95 6.69219C4.83 6.69219 3.71 6.69219 2.59 6.69219C2.26 6.69219 2.2 6.63219 2.2 6.31219C2.2 4.99219 2.2 3.67219 2.2 2.35219C2.2 2.05219 2.26 1.99219 2.56 1.99219C4.82 1.99219 7.09 1.99219 9.35 1.99219C9.64 1.99219 9.71 2.06219 9.71 2.35219C9.71 3.67219 9.71 4.99219 9.71 6.31219H9.7Z"
                        fill="currentColor"
                      />
                      <path
                        d="M24.4538 17.3781C24.2938 17.3481 24.1338 17.3281 23.9538 17.3281C23.2638 17.3281 22.5638 17.3281 21.8738 17.3281C19.9238 17.3281 17.9838 17.3281 16.0338 17.3281C15.9338 17.3281 15.8237 17.3281 15.7337 17.3481H15.7137C14.7937 17.5181 14.0938 18.3181 14.0938 19.2881V24.0281C14.0938 25.0981 14.9437 25.9581 15.9937 25.9981H24.0837C24.7937 25.9781 25.4037 25.5781 25.7337 24.9981C25.7937 24.8681 25.8537 24.7281 25.9037 24.5881C25.9537 24.4081 25.9837 24.2181 25.9837 24.0281V19.2881C25.9837 18.3581 25.3337 17.5681 24.4637 17.3681L24.4538 17.3781ZM24.1138 23.8181C24.1138 24.1581 24.0538 24.2181 23.7038 24.2181C22.4738 24.2181 21.2538 24.2181 20.0238 24.2181H16.3638C16.0038 24.2181 15.9437 24.1581 15.9437 23.8081C15.9437 22.3781 15.9437 20.9581 15.9437 19.5281C15.9437 19.1781 16.0138 19.1081 16.3638 19.1081C18.8138 19.1081 21.2538 19.1081 23.7038 19.1081C24.0438 19.1081 24.1138 19.1781 24.1138 19.5081C24.1138 20.9381 24.1138 22.3781 24.1138 23.8081V23.8181Z"
                        fill="currentColor"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_205_1981">
                        <rect width="26" height="26" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                </ng-container>
                <ng-container *ngIf="item.title === 'Customer Management'">
                  <svg
                    class="svg-links"
                    width="26"
                    height="26"
                    viewBox="0 0 26 26"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g clip-path="url(#clip0_205_1975)">
                      <mask
                        id="mask0_205_1975"
                        style="mask-type:luminance"
                        maskUnits="userSpaceOnUse"
                        x="0"
                        y="0"
                        width="26"
                        height="27"
                      >
                        <path
                          d="M26 0.0390625H0V26.0391H26V0.0390625Z"
                          fill="white"
                        />
                      </mask>
                      <g mask="url(#mask0_205_1975)">
                        <path
                          d="M16.8425 6.5C16.8425 2.92 13.9225 0 10.3325 0C6.7425 0 3.8125 2.92 3.8125 6.5C3.8125 10.08 6.7325 13 10.3225 13C13.9125 13 16.8325 10.08 16.8325 6.5H16.8425ZM10.3325 10.83C7.9325 10.83 5.9925 8.89 5.9925 6.5C5.9925 4.11 7.9425 2.17 10.3325 2.17C12.7225 2.17 14.6725 4.11 14.6725 6.5C14.6725 8.89 12.7225 10.83 10.3325 10.83ZM10.3325 16.18C10.4025 16.77 9.9825 17.31 9.3925 17.39C5.6025 17.86 2.7425 21.1 2.7425 24.91C2.7425 25.51 2.2525 25.99 1.6525 25.99C1.0525 25.99 0.5625 25.51 0.5625 24.91C0.5625 20 4.2425 15.84 9.1125 15.24C9.7025 15.17 10.2525 15.59 10.3225 16.18H10.3325ZM25.2125 20.72L24.1525 20.11C24.3325 19.57 24.4525 19.01 24.4525 18.41C24.4525 17.81 24.3325 17.25 24.1525 16.71L25.2125 16.1C25.7325 15.8 25.9125 15.14 25.6125 14.62C25.3125 14.1 24.6525 13.92 24.1325 14.22L23.0725 14.83C22.3025 13.97 21.2925 13.34 20.1125 13.1V11.91C20.1125 11.31 19.6225 10.83 19.0225 10.83C18.4225 10.83 17.9325 11.32 17.9325 11.91V13.1C16.7625 13.34 15.7425 13.97 14.9725 14.83L13.9125 14.22C13.3925 13.92 12.7325 14.1 12.4325 14.62C12.1325 15.14 12.3125 15.8 12.8325 16.1L13.8925 16.71C13.7125 17.25 13.5925 17.81 13.5925 18.41C13.5925 19.01 13.7125 19.57 13.8925 20.11L12.8325 20.72C12.3125 21.02 12.1325 21.68 12.4325 22.2C12.6325 22.55 13.0025 22.74 13.3725 22.74C13.5525 22.74 13.7425 22.69 13.9125 22.59L14.9725 21.98C15.7425 22.84 16.7525 23.47 17.9325 23.71V24.9C17.9325 25.5 18.4225 25.98 19.0225 25.98C19.6225 25.98 20.1125 25.49 20.1125 24.9V23.71C21.2825 23.47 22.3025 22.84 23.0725 21.98L24.1325 22.59C24.3025 22.69 24.4925 22.74 24.6725 22.74C25.0525 22.74 25.4125 22.55 25.6125 22.2C25.9125 21.68 25.7325 21.02 25.2125 20.72ZM19.0325 21.66C17.2325 21.66 15.7725 20.2 15.7725 18.41C15.7725 16.62 17.2325 15.16 19.0325 15.16C20.8325 15.16 22.2925 16.62 22.2925 18.41C22.2925 20.2 20.8325 21.66 19.0325 21.66Z"
                          fill="currentColor"
                        />
                      </g>
                    </g>
                    <defs>
                      <clipPath id="clip0_205_1975">
                        <rect width="26" height="26" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                </ng-container>
                <ng-container *ngIf="item.title === 'Managing AI Apps'">
                  <svg
                    class="svg-links"
                    width="26"
                    height="26"
                    viewBox="0 0 26 26"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g clip-path="url(#clip0_205_1968)">
                      <path
                        d="M23.4014 10.8034C22.6314 10.7734 22.5414 10.8334 22.1914 11.5434C22.0614 11.7934 21.9014 12.0334 21.7414 12.2734C21.5214 12.5934 21.2114 12.7534 20.8114 12.7434C20.3314 12.7434 19.8514 12.7434 19.3714 12.7834C18.8714 12.8234 18.4814 12.6534 18.2014 12.2334C18.0314 11.9734 17.8614 11.7134 17.7114 11.4334C17.5114 11.0534 17.2314 10.8834 16.8114 10.9234C16.6514 10.9434 16.5014 10.9634 16.3414 10.9734C15.6014 11.0134 14.9914 10.8334 14.6514 10.0734C14.4914 9.72337 14.2614 9.39337 14.0514 9.07337C13.8014 8.70337 13.7614 8.32337 13.9414 7.93337C14.0814 7.63337 14.2414 7.32338 14.4214 7.04338C14.6714 6.65338 14.6614 6.36338 14.3914 5.98338C14.2314 5.76338 14.0914 5.53337 13.9514 5.29338C13.6814 4.81337 13.6714 4.34337 13.9914 3.86337C14.2314 3.49337 14.4314 3.10338 14.6314 2.70338C14.8314 2.29338 15.1514 2.06337 15.6014 2.02338C15.9114 1.99338 16.2214 1.97338 16.5314 1.99338C17.0214 2.02338 17.2914 1.87338 17.4914 1.41338C17.5814 1.21337 17.6914 1.02338 17.7914 0.823375C18.0814 0.283375 18.5014 -0.006625 19.1514 0.033375C19.5814 0.063375 20.0114 0.033375 20.4414 0.003375C20.9014 -0.026625 21.2614 0.143375 21.5114 0.513375C21.7014 0.783375 21.8714 1.05338 22.0214 1.34338C22.2314 1.75338 22.5214 1.91338 22.9914 1.85338C23.2314 1.82338 23.4814 1.81338 23.7314 1.82338C24.3114 1.82338 24.7514 2.05338 25.0114 2.60337C25.2014 2.99337 25.4514 3.36338 25.7014 3.73338C25.9414 4.09338 25.9814 4.45338 25.8014 4.84338C25.6614 5.14338 25.5114 5.45337 25.3314 5.73338C25.0714 6.14337 25.0714 6.43338 25.3614 6.82338C25.5014 7.01338 25.6214 7.21338 25.7414 7.41337C26.0514 7.94337 26.0914 8.45337 25.7214 8.98337C25.5214 9.27337 25.3514 9.58337 25.2214 9.90337C24.9614 10.5234 24.5014 10.7934 23.8514 10.8034H23.4014ZM23.7414 8.01338C23.6614 7.93338 23.6114 7.83337 23.5314 7.77338C23.1814 7.56337 23.0714 7.24338 23.0614 6.86338C23.0614 6.49338 23.0614 6.12337 23.0414 5.75338C23.0214 5.37337 23.1414 5.07337 23.4614 4.85337C23.6414 4.73338 23.6814 4.58337 23.5514 4.40338C23.4814 4.31337 23.4314 4.22337 23.3814 4.12337C23.2714 3.86337 23.1014 3.82338 22.8614 3.95338C22.5914 4.10337 22.3114 4.11338 22.0314 3.95338C21.6014 3.73338 21.1814 3.51338 20.7714 3.25338C20.5914 3.14338 20.4314 2.92338 20.3714 2.73338C20.2014 2.21338 20.2214 2.21338 19.6914 2.23338C19.4114 2.23338 19.2614 2.31337 19.2614 2.61337C19.2614 2.95337 19.0714 3.19337 18.7814 3.36337C18.4514 3.55338 18.1214 3.75338 17.7914 3.95338C17.4514 4.17338 17.1214 4.24338 16.7514 4.05338C16.5714 3.96338 16.4214 3.99337 16.3314 4.18337C16.2914 4.28337 16.2414 4.38338 16.1714 4.46338C16.0014 4.70337 16.0214 4.86338 16.2814 5.02338C16.5614 5.19338 16.6814 5.45337 16.7014 5.77338C16.7014 6.19338 16.7214 6.61338 16.7314 7.03338C16.7414 7.39338 16.6414 7.69338 16.3314 7.89337C16.1414 8.01338 16.0814 8.17338 16.2414 8.37337C16.3114 8.46338 16.3614 8.55337 16.4114 8.65337C16.5214 8.89337 16.6714 8.94338 16.9014 8.81338C17.2314 8.62338 17.5414 8.66337 17.8514 8.84338L18.8914 9.41337C19.2014 9.58337 19.4214 9.83337 19.4314 10.2034C19.4414 10.4234 19.5514 10.5534 19.8014 10.5334C19.9114 10.5234 20.0114 10.5234 20.1314 10.5334C20.3914 10.5434 20.5114 10.4434 20.5114 10.1834C20.5114 9.85338 20.6714 9.61337 20.9414 9.44337C21.3314 9.19337 21.7314 8.92338 22.1414 8.72338C22.3514 8.62337 22.6414 8.63337 22.8914 8.65337C23.0814 8.67338 23.2714 8.85337 23.4114 8.57337C23.5114 8.38338 23.6114 8.19337 23.7214 7.99337H23.7414V8.01338Z"
                        fill="currentColor"
                      />
                      <path
                        d="M6.03344 26.2506H3.49344C1.49344 26.2306 0.0234375 24.7606 0.0234375 22.7606V17.6906C0.0234375 15.6306 1.51344 14.1406 3.57344 14.1406H8.57344C10.6734 14.1406 12.1334 15.6006 12.1434 17.7006V22.7706C12.1434 24.7506 10.6734 26.2306 8.70344 26.2506C7.82344 26.2506 6.93344 26.2506 6.05344 26.2506H6.03344ZM9.95344 20.2006V17.8606C9.95344 16.9206 9.35344 16.3306 8.42344 16.3206H3.70344C2.81344 16.3206 2.20344 16.9206 2.20344 17.8206V22.5806C2.20344 23.4806 2.79344 24.0806 3.69344 24.0806C5.28344 24.0906 6.86344 24.0806 8.45344 24.0806C9.37344 24.0806 9.94344 23.4906 9.95344 22.5606V20.2206H9.96344L9.95344 20.2006Z"
                        fill="currentColor"
                      />
                      <path
                        d="M19.8881 26.2563H17.3481C15.3081 26.2563 13.8281 24.7662 13.8281 22.7362V17.6663C13.8281 15.6263 15.3081 14.1562 17.3581 14.1562H22.4681C24.4181 14.1562 25.9281 15.6763 25.9381 17.6263V22.7763C25.9281 24.7863 24.4681 26.2363 22.4581 26.2663H19.8881V26.2563ZM19.8581 24.0463H22.1781C23.1481 24.0463 23.7381 23.4562 23.7381 22.4762V17.8962C23.7381 16.9262 23.1481 16.3463 22.1681 16.3363H17.6181C16.5981 16.3363 16.0281 16.9163 16.0281 17.9363V22.4862C16.0281 23.4563 16.6181 24.0363 17.5981 24.0463H19.8581Z"
                        fill="currentColor"
                      />
                      <path
                        d="M12.1303 6.405V9.025C12.1103 10.865 10.7803 12.355 8.95031 12.425C7.01031 12.495 5.07031 12.495 3.14031 12.425C1.42031 12.345 0.0603125 10.885 0.0303125 9.175C0.0003125 7.315 0.0003125 5.455 0.0303125 3.595C0.0603125 1.815 1.57031 0.365 3.38031 0.335C5.18031 0.305 6.97031 0.305 8.77031 0.335C10.6403 0.365 12.1203 1.875 12.1303 3.745V6.395V6.405ZM9.96031 6.395V4.095C9.96031 3.125 9.38031 2.545 8.41031 2.545H3.72031C2.81031 2.545 2.20031 3.145 2.20031 4.065V8.785C2.20031 9.695 2.80031 10.305 3.72031 10.315H8.41031C9.37031 10.315 9.96031 9.715 9.96031 8.755V6.405V6.395Z"
                        fill="currentColor"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_205_1968">
                        <rect width="26" height="26" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                </ng-container>
                <ng-container *ngIf="item.title === 'Settings'">
                  <svg
                    class="svg-links"
                    width="26"
                    height="27"
                    viewBox="0 0 26 27"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g clip-path="url(#clip0_137_6)">
                      <path
                        d="M13.405 9.10938C10.9695 9.10938 8.98438 11.0811 8.98438 13.504C8.98438 15.9269 10.9695 17.8986 13.405 17.8986C15.8404 17.8986 17.8255 15.9269 17.8255 13.504C17.8255 11.0811 15.8404 9.10938 13.405 9.10938ZM13.405 15.5676C12.2623 15.5676 11.3281 14.6402 11.3281 13.504C11.3281 12.3677 12.2623 11.4404 13.405 11.4404C14.5476 11.4404 15.4818 12.3677 15.4818 13.504C15.4818 14.6402 14.5476 15.5676 13.405 15.5676Z"
                        fill="currentColor"
                      />
                      <path
                        d="M23.5951 15.514L23.0863 15.2216C23.2948 14.077 23.2948 12.9241 23.0863 11.7795L23.5116 11.5372C24.279 11.0944 24.8378 10.3759 25.0714 9.52368C25.3049 8.66314 25.1798 7.76918 24.7377 7.00054C23.8119 5.41314 21.7684 4.87008 20.1754 5.78075L19.75 6.02304C18.8575 5.27946 17.8483 4.69463 16.7557 4.30196V3.80903C16.7557 1.97933 15.2543 0.492188 13.411 0.492188C11.5677 0.492188 10.0748 1.97933 10.0748 3.80903V4.2936C8.97379 4.68627 7.9729 5.26275 7.07211 6.02304L6.63839 5.77239C5.04532 4.86172 3.00184 5.40478 2.07602 6.99219C1.62563 7.76082 1.50886 8.65478 1.7424 9.51532C1.97594 10.3759 2.52642 11.0944 3.30211 11.5372L3.72748 11.7795C3.52731 12.9241 3.52731 14.077 3.72748 15.23L3.30211 15.4723C2.52642 15.9151 1.97594 16.6336 1.7424 17.4941C1.5172 18.3463 1.63397 19.2403 2.07602 20.0089C2.9935 21.5879 5.03698 22.1394 6.63839 21.2287L7.06377 20.9864C7.95622 21.7383 8.96545 22.3148 10.0581 22.7075V23.2004C10.0664 25.0301 11.5677 26.5173 13.4027 26.5173C15.2377 26.5173 16.739 25.0301 16.739 23.2004V22.7158C17.8316 22.3232 18.8408 21.7467 19.7416 20.9948L20.1754 21.2454C20.951 21.6882 21.8518 21.8052 22.7109 21.5796C23.57 21.3457 24.2957 20.8026 24.7377 20.034C25.6302 18.4883 25.1214 16.4832 23.5951 15.5475V15.514ZM14.3953 21.8386V23.1837C14.3953 23.7268 13.9449 24.1696 13.4027 24.1696C12.8606 24.1696 12.4102 23.7268 12.4102 23.1837V21.8386C12.4102 21.3039 12.0515 20.836 11.526 20.7107C10.2082 20.3682 9.00715 19.6831 8.05631 18.7139C7.83111 18.4883 7.53919 18.363 7.22224 18.363C7.02206 18.363 6.81355 18.4131 6.63839 18.5217L5.46235 19.1985C4.98693 19.4742 4.37806 19.3155 4.10282 18.8476C3.96936 18.622 3.936 18.3547 4.00273 18.104C4.06945 17.845 4.23627 17.6361 4.46981 17.4941L5.64585 16.8257C6.11293 16.5584 6.32978 16.0153 6.18799 15.5057C5.821 14.2023 5.821 12.8238 6.18799 11.5205C6.32978 11.0108 6.10459 10.4678 5.64585 10.2004L4.46981 9.52368C4.23627 9.39 4.07779 9.18113 4.01107 8.92214C3.94434 8.67149 3.97771 8.40414 4.11116 8.17856C4.24461 7.95298 4.46147 7.78589 4.71169 7.71905C4.97025 7.65221 5.23715 7.68563 5.47069 7.81931L6.64673 8.49604C7.10547 8.7634 7.69766 8.67985 8.06465 8.30388C9.01549 7.33473 10.2166 6.64964 11.5344 6.3071C12.0599 6.17342 12.4185 5.70555 12.4185 5.17085V3.82573C12.4185 3.28268 12.8606 2.83987 13.411 2.83987C13.9615 2.83987 14.4036 3.28268 14.4036 3.82573V5.17085C14.4036 5.70555 14.7622 6.16507 15.2794 6.29874C16.5972 6.64129 17.7983 7.32638 18.7491 8.29553C19.1244 8.67149 19.7083 8.75504 20.1754 8.48769L21.3514 7.81095C21.8268 7.53525 22.4357 7.69399 22.7109 8.16185C22.8444 8.38743 22.8778 8.65478 22.811 8.90543C22.7443 9.16442 22.5775 9.37329 22.3356 9.51532L21.1596 10.1921C20.7008 10.4594 20.4756 11.0025 20.6174 11.5121C20.8009 12.1638 20.8927 12.8322 20.8927 13.5005C20.8927 14.1689 20.8009 14.8457 20.6174 15.4973C20.4756 16.007 20.7008 16.55 21.1596 16.8174L22.3356 17.4941C22.5691 17.6278 22.7276 17.8367 22.7943 18.0957C22.8611 18.3463 22.8277 18.6137 22.6943 18.8392C22.419 19.3071 21.8101 19.4742 21.3347 19.1985L20.1587 18.5217C19.6916 18.2544 19.1077 18.3379 18.7324 18.7139C17.7816 19.6831 16.5805 20.3682 15.2627 20.7107C14.7456 20.8444 14.3869 21.3039 14.3869 21.8386H14.3953Z"
                        fill="currentColor"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_137_6">
                        <rect
                          width="26"
                          height="26"
                          fill="white"
                          transform="translate(0 0.5)"
                        />
                      </clipPath>
                    </defs>
                  </svg>
                </ng-container>
                <svg
                  *ngIf="loggedInUser?.company_user"
                  class="svg-links"
                  width="26"
                  height="26"
                  viewBox="0 0 26 26"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_205_1981)">
                    <path
                      d="M25.8981 1.43C25.8281 1.26 25.7581 1.08 25.6681 0.92C25.3281 0.37 24.7081 0 24.0081 0H16.0381C15.8081 0 15.5781 0.04 15.3681 0.12H15.3581C15.2581 0.16 15.1581 0.21 15.0681 0.26H15.0581C14.5581 0.55 14.1981 1.05 14.0981 1.64C14.0881 1.72 14.0781 1.8 14.0781 1.88V13.2C14.0781 14.18 14.7881 14.99 15.7181 15.14H15.7281C15.8281 15.16 15.9381 15.17 16.0481 15.17H23.9381C24.0781 15.17 24.1981 15.16 24.3181 15.14C25.2581 14.99 25.9681 14.18 25.9681 13.2V1.97C25.9681 1.78 25.9481 1.6 25.8981 1.43ZM24.0981 12.78C24.0981 13.11 24.0281 13.18 23.6881 13.18H16.3681C16.0181 13.18 15.9481 13.11 15.9481 12.76V2.4C15.9481 2.06 16.0181 1.99 16.3481 1.99H23.6881C24.0281 1.99 24.0981 2.05 24.0981 2.39V12.78Z"
                      fill="currentColor"
                    />
                    <path
                      d="M11.8234 12.2638C11.7734 12.0838 11.6934 11.9137 11.5934 11.7537C11.2934 11.2737 10.7834 10.9338 10.2034 10.8538C10.1334 10.8538 10.0734 10.8438 10.0034 10.8438C9.30344 10.8438 8.60344 10.8438 7.90344 10.8438C6.77344 10.8438 5.64344 10.8438 4.51344 10.8438C3.63344 10.8438 2.76344 10.8438 1.88344 10.8438C1.83344 10.8438 1.78344 10.8438 1.73344 10.8438H1.71344C1.57344 10.8637 1.43344 10.9037 1.30344 10.9437C1.20344 10.9837 1.10344 11.0337 1.00344 11.0837C0.503438 11.3737 0.143438 11.8738 0.0434375 12.4738C0.0334375 12.5538 0.0234375 12.6337 0.0234375 12.7137C0.0234375 12.7137 0.0234375 12.7737 0.0234375 12.7937V24.0338C0.0234375 25.0138 0.733437 25.8137 1.66344 25.9737H1.67344C1.77344 25.9937 1.88344 26.0037 1.98344 26.0037H9.94344C10.0534 26.0037 10.1534 26.0037 10.2534 25.9837C10.3934 25.9637 10.5334 25.9238 10.6634 25.8738C10.7334 25.8438 10.8034 25.8138 10.8634 25.7838C11.3834 25.5038 11.7634 25.0037 11.8734 24.4037C11.8834 24.3037 11.8934 24.2037 11.9034 24.0938V12.8038C11.9034 12.6137 11.8734 12.4338 11.8334 12.2638H11.8234ZM9.71344 23.1938C9.71344 23.5338 9.65344 23.5938 9.32344 23.5938H2.58344C2.24344 23.5938 2.19344 23.5438 2.19344 23.1938V13.6637C2.19344 13.3037 2.24344 13.2537 2.59344 13.2537H9.31344C9.66344 13.2537 9.72344 13.3137 9.72344 13.6637V23.2038L9.71344 23.1938Z"
                      fill="currentColor"
                    />
                    <path
                      d="M11.05 0.352187C10.86 0.242187 10.64 0.162188 10.43 0.0621875C10.41 0.0621875 10.39 0.0521875 10.37 0.0421875C10.23 0.0121875 10.08 -0.0078125 9.93 -0.0078125H1.97C1.86 -0.0078125 1.75 -0.0078125 1.65 0.0221875H1.63C0.7 0.192188 0 1.00219 0 1.97219V6.71219C0 7.69219 0.72 8.51219 1.66 8.65219C1.74 8.66219 1.83 8.67219 1.92 8.67219C3.31 8.67219 4.7 8.67219 6.09 8.67219C7.38 8.67219 8.67 8.67219 9.97 8.67219C10.07 8.67219 10.18 8.67219 10.28 8.65219C10.86 8.54219 11.35 8.18219 11.64 7.68219C11.71 7.55219 11.77 7.42219 11.81 7.27219C11.86 7.09219 11.89 6.90219 11.89 6.71219V1.97219C11.89 1.30219 11.56 0.712188 11.05 0.352187ZM9.7 6.31219C9.7 6.62219 9.63 6.69219 9.33 6.69219C8.2 6.69219 7.07 6.69219 5.95 6.69219C4.83 6.69219 3.71 6.69219 2.59 6.69219C2.26 6.69219 2.2 6.63219 2.2 6.31219C2.2 4.99219 2.2 3.67219 2.2 2.35219C2.2 2.05219 2.26 1.99219 2.56 1.99219C4.82 1.99219 7.09 1.99219 9.35 1.99219C9.64 1.99219 9.71 2.06219 9.71 2.35219C9.71 3.67219 9.71 4.99219 9.71 6.31219H9.7Z"
                      fill="currentColor"
                    />
                    <path
                      d="M24.4538 17.3781C24.2938 17.3481 24.1338 17.3281 23.9538 17.3281C23.2638 17.3281 22.5638 17.3281 21.8738 17.3281C19.9238 17.3281 17.9838 17.3281 16.0338 17.3281C15.9338 17.3281 15.8237 17.3281 15.7337 17.3481H15.7137C14.7937 17.5181 14.0938 18.3181 14.0938 19.2881V24.0281C14.0938 25.0981 14.9437 25.9581 15.9937 25.9981H24.0837C24.7937 25.9781 25.4037 25.5781 25.7337 24.9981C25.7937 24.8681 25.8537 24.7281 25.9037 24.5881C25.9537 24.4081 25.9837 24.2181 25.9837 24.0281V19.2881C25.9837 18.3581 25.3337 17.5681 24.4637 17.3681L24.4538 17.3781ZM24.1138 23.8181C24.1138 24.1581 24.0538 24.2181 23.7038 24.2181C22.4738 24.2181 21.2538 24.2181 20.0238 24.2181H16.3638C16.0038 24.2181 15.9437 24.1581 15.9437 23.8081C15.9437 22.3781 15.9437 20.9581 15.9437 19.5281C15.9437 19.1781 16.0138 19.1081 16.3638 19.1081C18.8138 19.1081 21.2538 19.1081 23.7038 19.1081C24.0438 19.1081 24.1138 19.1781 24.1138 19.5081C24.1138 20.9381 24.1138 22.3781 24.1138 23.8081V23.8181Z"
                      fill="currentColor"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_205_1981">
                      <rect width="26" height="26" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </span>
              <ng-container>
                {{ item.title }}
              </ng-container>
            </a>
          </li>
        </ul>
        <div
          [ngClass]="{
            'company-user': loggedInUser.company_user,
            'admin-user': !loggedInUser.company_user
          }"
        >
          <a class="sign-out " (click)="signOut()">
            <span class="li-icon"
              ><svg
                width="26"
                height="26"
                viewBox="0 0 26 26"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_38_104)">
                  <path
                    d="M16.9168 11.7449H3.15355L7.71613 7.38779C7.95935 7.15273 8.09355 6.84211 8.10194 6.5063C8.11032 6.16209 7.9929 5.84307 7.75806 5.59961C7.52323 5.34776 7.19613 5.21343 6.85226 5.21343C6.50839 5.21343 6.21484 5.33936 5.98 5.55764L1.18258 10.1414C0.419355 10.897 0 11.9128 0 13.0042C0 14.0956 0.427742 15.1114 1.21613 15.8922L5.98 20.4424C6.21484 20.6606 6.53355 20.7698 6.88581 20.7698C7.22129 20.7614 7.54 20.6271 7.75806 20.4004C7.9929 20.1485 8.11871 19.8379 8.11032 19.5021C8.10194 19.1663 7.95935 18.8557 7.71613 18.6206L3.15355 14.2635H16.9168C17.6129 14.2635 18.1748 13.701 18.1748 13.0042C18.1748 12.3074 17.6129 11.7449 16.9168 11.7449ZM13.6206 0H13.5703C12.8742 0 12.329 0.512108 12.3039 1.20052C12.2871 1.54472 12.4045 1.86374 12.6226 2.1072C12.8574 2.35906 13.1677 2.50178 13.4948 2.51857C19.0974 2.78721 23.4839 7.38779 23.4839 13.0042C23.4839 18.6206 19.0974 23.2212 13.4948 23.4814C13.1677 23.4982 12.8574 23.6409 12.6226 23.8928C12.4045 24.1447 12.2871 24.4637 12.3039 24.7995C12.329 25.4711 12.8826 26 13.5619 26H13.6206C20.5568 25.6726 26 19.9638 26 13.0042C26 6.04456 20.5652 0.335809 13.6206 0Z"
                    fill="currentColor"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_38_104">
                    <rect width="26" height="26" fill="white" />
                  </clipPath>
                </defs>
              </svg> </span
            >Sign Out</a
          >
        </div>
      </div>
    </div>
  `,
  styles: `
  .sidebar {
  height: 100vh;
  position: fixed; /*fixed : Ensure the sidebar is the containing block */


}
.sidebar-mobile{
display:none;
}
.company-title {
  width: auto;
  font-size: clamp(12px, 2vw, 24px);
  margin: 0;
  padding: 10px;
  text-align: center;
}

.companyName {
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100%;
  margin: auto;
  color: #5D5FEF;
  font-size: 28px;
  font-weight: bold;
  text-transform: capitalize;
  margin-bottom:-3rem;
}

.customer-logo {
  width: 80px;
  height: 80px;
  margin-bottom: 20px;
  border-radius: 8px;
  margin-left: 72px;
  margin-right: 72px;
  align-items: center;
  text-align: center;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Ensure mat-icon inherits size of the parent container */
.icon-placeholder mat-icon {
  font-size: 80px; /* Matches the size of the image */
  width: 100%;
  height: 100%;
}


.container {
  width: 250px;
  background-color: #fff;
  padding: 20px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  height: 100%;
  display: flex;
  flex-direction: column;
 position: relative;/* Allows the content to stack vertically */
}


.svg-links:hover {
    fill: white; /* Change to white on hover */
}
        h3 {
            color:#008080;
           font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
           font-weight:bold;
           font-size:20px;
        }

        .company-user.admin-user{
            list-style: none;
            padding: 5px;
        }

        .admin-user li {
            font-size:14px;
            font-weight:400px;
            margin-bottom:-60px;
            margin-top:30px;
            width:230px;

        }
            .company-user li {
            font-size:14px;
            font-weight:400px;
            margin-bottom:-60px;
            margin-top:30px;
            width:230px;

        }
        .company-user li.active a {
          background-color: #5D5FEF;
          color: white;

              }

              .svg-links:hover  {
           fill: white !important;
            }


              .admin-user li.active a{

                background-color: #008080;}
        .company-user li.active a {
          background-color: #5D5FEF;
          color: white;
              }

              .svg-links:hover{
          fill: white;
         }

              .admin-user li.active a{
                background-color: #008080;
               color: white;
              }

              .company-user.admin-user a {
            display: block;
            padding: 16px ;
            margin-top:-30px;
            padding: 16px ;
            margin-top:-30px;
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            font-size:14px;
            font-weight:400;
            border-radius: 15px;
            text-decoration: none;
            color: #333;
            transition: background-color 0.3s ease;

        }

        .company-user.admin-user a:hover {
            background-color:#008080;
            color:white;
        }

        .company-user.admin-user a:focus {
             background-color: #008080;
              color: white;
          }

          .admin-user{
            list-style: none;
            padding: 5px;
            a{
            display: block;
            padding: 16px ;
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            font-size:14px;
            font-weight:400;
            border-radius: 15px;
            text-decoration: none;
            color: #333;
            transition: background-color 0.3s ease;
            }
            a:hover{
              background-color:#008080;
              color:white;
            }
            a:focus{
              background-color: #008080;
              color: white;
            }
          }

          .company-user {
  list-style: none;
  padding: 5px;

  a {
    display: block;
    padding: 16px;
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    font-size: 14px;
    font-weight: 400;
    border-radius: 15px;
    text-decoration: none;
    color: #333;
    transition: background-color 0.3s ease, color 0.3s ease;

    &:hover,
    &:focus,
    &:active {
      background-color: #5D5FEF;
      color: white;
    }
  }
}

          .company-user {
  list-style: none;
  padding: 5px;

  a {
    display: block;
    padding: 16px;
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    font-size: 14px;
    font-weight: 400;
    border-radius: 15px;
    text-decoration: none;
    color: #333;
    transition: background-color 0.3s ease, color 0.3s ease;

    &:hover,
    &:focus,
    &:active {
      background-color: #5D5FEF;
      color: white;
    }
  }
}


.sign-out {
font-size:14px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 180px;
  position: absolute;
  bottom: 60px;
  left: 50%;
  transform: translateX(-50%);
  color: white;
  padding: 10px 20px;
  border-radius: 4px;
  text-decoration: none;
  cursor: pointer;
}

.sign-out a {
  display: block;
  width: 100%;
  text-align: center;
  border-radius: 16px;
  color: #333;
  transition: background-color 0.3s ease;
}

.sign-out a:hover {
  background-color: #008080;
  color: white;
}
         .h3{
            color:#008080;
            }

.li-icon {
vertical-align: middle;
  margin-right:10px;
}
.li-icon svg{
   margin-left:3px;
  height:20px;
  width:20px;
}
.li-name {
  font-size: 14px;
  line-height:40px;
  vertical-align: middle;
}
  .logo {
  display: flex;
  align-items: center;
}
.logo h3 {
  margin-left: 20px;
}
  li.disabled {
  pointer-events: none;
  opacity: 0.6;
}
   @media (max-width: 768px) {
  .sidebar-mobile {
  position: relative; /* Make it the reference point for absolute positioning */
  display: flex;
  flex-direction: column;
  align-items: center;
  left: 0;
  width: 100%;
  height: 400px; /* Adjust as needed */
  background-color: white;
  color: #000; /* Changed to black for better contrast */
  margin-left: auto;
  padding: 20px; /* Optional: Add padding if needed */
  box-sizing: border-box; /* Ensure padding doesn't affect width/height */
}
.sidebar-mobile ul{
margin-bottom:1px;

}
li a{
text-align:center;
 font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  font-size:16px;
 font-weight:600;
}
 .signout{
 margin-top:20px;
 }
.signout a{
text-align:center;
 font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  font-size:16px;
 font-weight:600;
}
.sidebar{
display:none;}

.close-btn {
  position: absolute;
  top: 15px;
  right: 10px;
  background-color: white;
  border: none;
  margin: 0;
  padding: 5px;
  cursor: pointer;
}
}
  `,
})
export class SidebarComponent implements OnInit {
  @Output() itemSelected = new EventEmitter<string>();
  @Input() theme: 'admin' | 'customer' = 'admin';
  @Output() toggleSidebar = new EventEmitter<void>();

  loggedInUser: any;
  companyName: string | null = '';
  logoUrl: string | null = '';

  navItems: NavItem[] = [];
  selectedTitle = '';

  constructor(
    private router: Router,
    private _authService: AuthService,
    private _utilService: UtilityService
  ) {}

  ngOnInit(): void {
    const userDetails = localStorage.getItem('userDetails');
    if (userDetails) {
      const user = JSON.parse(userDetails);
      this.loggedInUser = user;
      this.companyName = user?.company_user?.company_id?.company_name || '';

      if (this.loggedInUser?.company_user) {
        const logo = user.company_user.company_id.logo;
        this.logoUrl = logo ? `${environment.serverImageUrl}${logo.url}` : '';
        this.navItems = this._utilService.getCustomerItems();
      } else {
        this.navItems = this._utilService.getAdminItems();
      }
      const savedTitle = localStorage.getItem('selectedTitle');
      if (savedTitle) {
        this.selectedTitle = savedTitle;
      }
    }

    this.router.events.subscribe((event) => {
      if (event instanceof NavigationEnd) {
        const currentUrl = this.router.url;
        const matchingItem = this.navItems.find(
          (item) => item.routeURL === currentUrl
        );
        if (matchingItem) {
          this.selectedTitle = matchingItem.title;
          localStorage.setItem('selectedTitle', matchingItem.title);
        }
      }
    });
  }

  selectItem(title: string, routeURL: string): void {
    this.itemSelected.emit(title);
    this.router.navigate([routeURL]);
    this.selectedTitle = title;
    localStorage.setItem('selectedTitle', title);
  }

  isActive(title: string): boolean {
    return this.selectedTitle === title;
  }

  signOut(): void {
    localStorage.clear();
    this._authService.isUserLoggedIn$.next(false);
    this.router.navigate(['/login']);
  }

  private updateSelectedTitle(url: string): void {
    // Logic to update selectedTitle based on the current URL
    const foundItem = this.navItems.find((item) => url.includes(item.routeURL));
    if (foundItem) {
      this.selectedTitle = foundItem.title;
      localStorage.setItem('selectedTitle', this.selectedTitle);
    }
  }
}
